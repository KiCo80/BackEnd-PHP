PHP ter√ºlet l√©trehoz√°sa:
<?php
...
?>


Aposztr√≥f, id√©z≈ëjel, d≈ëlt aposztr√≥f:
html-ben:
	ink√°bb ''-ot haszn√°ljunk!

MySQL-ben:
	`` - a t√°bla elnevez√©s√©ben a szavak √∂sszetartoz√°s√°t jelzi


Domain bejegyz√©s√©nek ellen≈ërz√©se:

checkdnsrr


L√©tezik-e a c√≠msorban "a" √©s "b" param√©ter?

if(isset($_GET['a']) && isset ($_GET['b']))
{
	$a=$_GET['a'];
	$b=$_GET['b'];
}
else
{
	print "Adj meg param√©tereket!"
}


C√≠msor param√©terez√©se ?-lel kezd≈ëdik, pl:
?a=120&b=60


For ciklus PHP-ban (mint C#-ban):
for ($i=1; $i<=20; $i++)
	{
		print $i." "; - egym√°s mell√© √≠rja ki a sz√°mokat 20-ig, sz√≥k√∂zzel elv√°lasztva
	}
for ($i=1; $i<=20; $i++) // for ciklus, mint C#-ban
	{
		print "$i<br>"; - egym√°s al√° √≠rja ki a sz√°mokat 20-ig
	}

Egybe√°gyazott for ciklus PHP-ban (pl: szorz√≥t√°bla t√°bl√°zatban):
<table border=2>

<?php
if (isset($_GET['x'])) $x=$_GET['x'];
	
else $x=20;
	
if($x>40)	$x=40;
	
for ($i=1; $i<=$x; $i++)
{
	print"<tr>";
	for ($j=1; $j<=$x; $j++)
	{
		print"<td>".$i*$j."</td>";
	}
	print"</tr>";
}
?>


CSS ter√ºleten bel√ºl, div-ek bal fels≈ë sarokba helyez√©se:
body{
	margin: 0;
}


CSS ter√ºleten bel√ºl, men√ºpontok form√°z√°sa:
div#menu a{
	/* display: block;  ezzel egym√°s alatt lesznek a men√ºpontok  */
	display: inline-block;
	width: 120px;
	text-align: center;
	font-weight: bold;
	text-decoration: none;
	color: #FFF;
	padding: 12px;
}


Weboldal c√≠msor l√©trehoz√°sa:
<div id="cimsor">
	<h1>Komoly weboldal :)</h1>
</div>


Weboldal men√º l√©trehoz√°sa:
<div id="menu">
	<a href='./?p=aktual'>Aktualit√°sok / Akci√≥k</a>
	<a href='./?p=szolg'>Szolg√°ltat√°sok</a>
	<a href='./?p=ref'>Referenci√°k</a>
	<a href='./?p=gal'>Gal√©ria</a>
	<a href='./?p=eler'>El√©rhet≈ës√©geink</a>
	<a href='./?p=kapcs'>Kapcsolat</a>
</div>


Men√º hivatkoz√°s, ha a filen√©v nem index.php, pl:
<a href='./kutyakepek.php?p=pitbull'>Amerikai pit bull terrier</a>


Weboldal men√ºpontjai kattint√°sra:
<div id="tartalom">
<?php
if (isset($_GET['p']))	$p=$_GET['p'];
else			$p="";	

if ($p=="")		print "<h2>F≈ëoldal</h2>";
else
if ($p=="aktual")	print "<h2>Aktu√°lis akci√≥ink</h2>"; 
else
if ($p=="szolg")	print "<h2>Szolg√°ltat√°saink</h2>";
else
if ($p=="ref")		print "<h2>Referenci√°k</h2>";
else
if ($p=="gal")		print "<h2>Gal√©ria</h2>";
else
if ($p=="eler")		include("elerhetoseg.php");
else
if ($p=="kapcs")	include("kapcsolat.php");
else			include("404.php"); - ezzel h√≠vjuk meg a 404.php file-t, amit √≠rtunk, az tartalmazza a k√©pet
	
?>

<iframe name='kisablak'></iframe>
</div>


Kapcsolat men√ºpont:
<h2>√çrj nek√ºnk!</h2>

<form action='uzenetir.php' method='post' target='kisablak'>  <!-- kell egy uzenetir.php file-t csin√°lni -->

- a method alapb√≥l = "get"-tel, de ez nem j√≥, mert akkor a c√≠msorban l√°that√≥ak az adatok. A "post" √©rt√©k miatt nem lesz l√°that√≥ a c√≠msorban

Az email c√≠med:	<input type='email' name='mailcim'><br>
√úzenet t√©m√°ja:	<input type='text' name='targy'><br>
√úzenet sz√∂vege:	<textarea name='szoveg'></textarea><br><br> <!-- textarea - t√∂bb soros sz√∂vegbeviteli mez≈ë -->

<input type='submit' value='√úzenet k√ºld√©se'>

</form>


√úzenetir.php l√©trhoz√°sa:
<pre> <!-- megjelen√≠ti a sort√∂r√©seket -->
<?php
	print_r($_POST); // a form mez≈ëinek √©rt√©k√©t l√°tjuk
	
	mail('ugyfelszolgalat@encegem.hu', $_POST['targy'], $_POST['szoveg'], "From".$_POST['mailcim']);
	/* mail f√ºggv√©nnyel tudunk emailt k√ºldeni, ha a server√ºnk kezel mailt. */
	/*  A "From"-hoz konkaten√°ljuk a mailc√≠met. */				
?>
</pre>

<!-- szerv√≠z funkci√≥ miatt nagyon hasznos, mindig √≠gy kell kezdeni!!! -->


√úzenetir.php l√©trhoz√°sa b≈ëvebben:
<pre>
<?php
	print_r($_POST);

	mail('ugyfelszolgalat@encegem.hu', $_POST['targy'], $_POST['szoveg'], "From".$_POST['mailcim']);
	
/* EMAIL K√úLD√âS√âNEK FELT√âTELEI? HOGY NE MENJENEK KI √úRES EMAILEK: */
	
	if($_POST['mailcim']=="")	die("<script> alert('Nem adtad meg az email c√≠medet!')</script>");  /* die = olyan, mint a print, csak nem engedi tov√°bb futni a programot.*/
	
/* ugyanezt tehetj√ºk a t√∂bbi param√©terrel: t√°rgy, sz√∂veg, stb... */
	
	if($_POST['targy']=="")		die("<script> alert('Nincs t√°rgy!')</script>");
	
	if (strlen($_POST['szoveg'])<40) die("<script> alert('Kicsit hosszabbat √≠rj!')</script>");  /* strlen = √ºzenet sz√∂veg√©nek hossza, jelen esetben <40 */

/* mail (); f√ºggv√©ny - 5 param√©tere van, ebb≈ël 3 k√∂telez≈ë => php manual => mail(), minden ott van r√≥la */

/*
	mail("hr@encegem.hu",
	     $_POST['targy'],
	     $_POST['szoveg'],
	     "From:".$_POST['mailcim']);  // mehetne egy sorba is, de t√∂rdelve jobban l√°tjuk a f√ºggv√©ny param√©tereit.

	mail($_POST['mailcim'],    // √≠gy a felhaszn√°l√≥nak is elk√ºldj√ºk az √ºzenetet, tudni fogja, hogy mit √≠rt. 
	     "M√ÅSOLAT - ".$_POST['targy'],
	     $_POST['szoveg'],
	     "From:".$_POST['mailcim']);
*/

/* FENTI M√ìDON NEM SZABAD EMAILT K√úLDENI, MERT HAMAR MEGTELIK A SERVER!!! */
/* EZ√âRT (V√ÅR√ìLIST√ÅRA) ADATB√ÅZISBA KELL BELETENNI AZ EMAILEKET! */	


/* ADATB√ÅZISOS R√âSZ: PHP manualban: 5 param√©ter. A 2. a felhaszn√°l√≥n√©v, a 3. a jelsz√≥, itt √ºres*/
	
	$adb=mysqli_connect("localhost", "root", "", "encegem"); /* $adb v√°ltoz√≥ba t√°roljuk el a kapcsol√≥d√°s eredm√©ny√©t. */
	
	$ip=$_SERVER['REMOTE_ADDR']; // √≠gy k√©rdezz√ºk le az ip c√≠met, be is tessz√ºk v√°ltoz√≥ba

	mysqli_query($adb, "
	
			INSERT INTO emailek (eid,            efelado,          etargy,          eszoveg, eidopont,   eip, estatusz, ekomment) 
			VALUES 		    (NULL, '$_POST[mailcim]', '$_POST[targy]', '$_POST[szoveg]',    NOW(), '$ip',       '',       '') // ezt az adatb√°zis fel√ºletr≈ël, a besz√∫r√°s f√ºln√©l √ºresen hagyva, majd ment√©s, √©s ki√≠rja a parancsot, amit bem√°solunk a php-be. CTRL+H-val kicser√©lj√ºk √ºresre ezeket a d≈ëlt aposztr√≥fokat. Az√©rt tessz√ºk egym√°s al√° a vessz≈ëket, hogy l√°ssuk, mi, mihez tartozik. A mailcim el≈ëtti √©s ut√°ni aposztr√≥fokat kivessz√ºk, mert aposztr√≥f k√∂z√© √≠rtuk be!
			// fenti k√©t sort kim√°soljuk, beillesztj√ºk a MySQL-be. Ha z√∂ld, akkor j√≥! Ut√°na M≈±veletek => Truncate - kit√∂r√∂l √©s lenull√°z mindent.
	 ");
	
	mysqli_close($adb);




	print " 
		<script>
			alert('K√∂sz√∂nj√ºk √ºzenetedet!')
			parent.location.href='./' /* ezzel visszaugrunk a f≈ëoldalra, a sz√ºl≈ëoldalra. */
		</script>
	";

?>
</pre>

<!-- szerv√≠z funkci√≥ miatt nagyon hasznos, mindig √≠gy kell kezdeni!!! -->


404.php hibaoldal:
<h2>404 - Hibaoldal</h2>
<img src='404.png'>


Weboldal l√°bl√©c kialak√≠t√°sa:
<div id="lablec">
	&copy; kico.hu, 2001-<?=@date("Y-m-d H:i:s");?>	
</div>	

Ha gyorsan kell php k√≥dot √≠rni egy sorba, akkor d√°tum eset√©n pl: "<?=2022;?>" - itt a 2022 hely√©re megy a date() f√ºggv√©ny. Mivel a date() f√ºggv√©ny kimeneteli √©rt√©ke string, ez√©rt z√°r√≥jelen bel√ºl id≈ëz≈ëjelek k√∂z√© tessz√ºk a form√°tum param√©tereit.


Speci√°lis karakterek megjelen√≠t√©se:
"&"-del kezd≈ëdik √©s ";"-vel v√©gz≈ëdik


Google t√©rk√©p besz√∫r√°sa pl: el√©rhet≈ës√©g men√ºpontba:
<h2>El√©rhet≈ës√©g</h2>

<iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d10798.394750420175!2d19.04909443446149!3d47.41976836676121!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1shu!2shu!4v1645548725212!5m2!1shu!2shu" 
width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"></iframe>


Adatb√°zishoz kapcsol√≥d√°s, abb√≥l lek√©rdez√©s, ki√≠r√°s, lekapcsol√≥d√°s:

Adatb√°zis kezel≈ë f√ºggv√©nyek:


Adatb√°zishoz kapcsol√≥d√°s:
	mysqli_connect

Adatb√°zisb√≥l lek√©rdez√©s:
	mysqli_query

Adatb√°zis kapcsolat bez√°r√°sa:
	mysqli_close


adbkapcsolat.php l√©trehoz√°sa:
<?php

    $adb=mysqli_connect("localhost", "root", "", "encegem");
	
    $ip=$_SERVER['REMOTE_ADDR'];

?>



$adb=mysqli_connect("localhost", "root", "", "encegem"); - adatb√°zishoz kapcsol√≥d√°s

$tabla=mysqli_query($adb, " SELECT * FROM emailek ORDER BY eidopont DESC"); - adatb√°zisb√≥l lek√©rdez√©s

$sor=mysqli_fetch_array($tabla); 

while($sor = mysqli_fetch_array ($tabla)) 
{
	print ("<tr>");
	print ("<td><b>$sor[eidopont]</b></td>");
	print ("<td><b>$sor[efelado]</b></td>");
	print("<td><u>$sor[etargy]</u></td>");
	print("<td><b>$sor[eszoveg]</b></td>");
	print ("</tr>");
}

mysqli_close($adb); - adatb√°zisr√≥l lekapcsol√≥d√°s


Admin fel√ºlet-en, √ºzenetek t√°bl√°zatba rendez√©se, adatb√°zisb√≥l:
<h2>Admin fel√ºlet</h2>

<?php

	print("<table border=1>");
	print("<th>Id≈ëpont</th>");
	print("<th>Felad√≥</th>");
	print("<th>T√°rgy</th>");
	print("<th>√úzenet sz√∂vege</th>");

	$adb=mysqli_connect("localhost", "root", "", "encegem");
	
	$tabla=mysqli_query($adb, " SELECT * FROM emailek ORDER BY eidopont DESC");

	$sor=mysqli_fetch_array($tabla);    

	while($sor = mysqli_fetch_array ($tabla)) 
	{
		print ("<tr>");
		print ("<td><b>$sor[eidopont]</b></td>");
		print ("<td><b>$sor[efelado]</b></td>");
		print("<td><u>$sor[etargy]</u></td>");
		print("<td><b>$sor[eszoveg]</b></td>");
		print ("</tr>");
 	}

	mysqli_close($adb);

?>



File m≈±veletek:

php manualban, f√ºggv√©nyeket be√≠rva, minden l√°tszik.
php manual-ban a description r√©szben l√©v≈ë z√∂ld sz√≠n≈± sz√∂veg a t√≠pus.

File m≈±veletek:

fopen

fwrite

fread

fclose


Haszn√°land√≥ param√©terek:

r - olvas√°sra

w - fel√ºl√≠r√°sra

a - hozz√°ad√°sra


fopen visszaadot √©rt√©ke: resource vagy false.

1 karakter = 1 byte (ah√°ny karakter, annyi byte)



id≈ëz√≥na be√°ll√≠t√°sa:

date_default_timezone_set("Europe/Budapest");



Session: b√∂ng√©sz≈ë megnyit√°s√°t√≥l a bez√°r√°s√°ig terjed≈ë id≈ëszak (munkamenet)

$_SESSION:  (a 4. szuperglob√°lis v√°ltoz√≥nk) munkamenet kezel√©s√©re szolg√°l

!!!A legeslegels≈ë sorban kell lennie!!! √úres sor sem lehet el≈ëtte!!!


Els≈ë session id-m: 0u8nbqengqmm7rr0gr6gaubknf :)

A server ezen a n√©ven fog nyilv√°ntartani.



latogatottsag.php l√©trehoz√°sa:
<?php

date_default_timezone_set("Europe/Budapest");

$filenev=date("ymd").".txt"; 

if (file_exists($filenev))
{
	$fp=fopen("$filenev", "r"); // logikai file-t hozunk l√©tre $fp n√©ven, amit olvasni szeretn√©nk
	$n=fread($fp, filesize($filenev)); // fp = file pointer - megnyitjuk olvas√°sra, m√°r a fizikai file-t.
	fclose($fp);
}
else
{
	$fp=fopen("$filenev", "w"); 
	$n=fwrite($fp, 0);
	fclose($fp);
	$n=0;
}

if (!isset($_SESSION['teljesenmindegy'])) // megn√©zz√ºk, hogy van-e benne ilyen kifejez√©s
{
	$n++; 

	$fp=fopen("$filenev", "w"); 
	$n=fwrite($fp, $n);
	fclose($fp);

	$_SESSION['teljesenmindegy']='elnezestkerekhazakellmennem'; // v√°ltoz√≥ egyenl≈ë valamivel :)))
}
	
	print "Az oldalt $n l√°togat√≥ l√°tta ma.";

?>

input mez≈ë d√°tum form√°tummal, majd a megadott d√°tumhoz hozz√°keresni, hogy van-e olyan filen√©v.

A l√°togatotts√°gn√°l nem kell sz√°ml√°l√≥, ott csak meg kell vizsg√°lni, hogy van-e olyan file, ha pedig van, akkor ki kell √≠ratni.



vendegkonyv.php l√©trehoz√°sa:
<!DOCTYPE html>
<head>
</head>

<style>
    div.uzenet{
        border:             solid 1px #004;
        border-radius:      3px;
        background-color:   #DDF;
        color:              #004;
        margin:             16px;
        padding:            6px 12px;
    }

    div.uzenet span{
        float:              right;
    }

    div.uzenet hr{
        border-top:             dotted 1px #004;
    }

</style>

<body>
    
    <form action='vendegkonyv_ir.php' method='post' target='kisablak' style='margin-left:120px;'> 
    
	<h2>Vend√©gk√∂nyv</h2>

        Neved:<br>
        <input type='text' name='nev' size=32><br><br>
        √úzeneted:<br> 
        <textarea name='szoveg' rows=8 cols=40></textarea><br><br> 

        <input type='submit' value='K√ºld√©s'>

    </form>

<hr style='margin:24px 0;'>

<?php

    $tomb=[]; 

    $fp=fopen("vendegkonyv.txt", "r");
    while($sz=fgets($fp)) 
    {
        $tomb[]=$sz;
    }
    fclose($fp);
    
    $sorszam=count($tomb);

    for($i=count($tomb)-1; $i>=0; $i--) 

    {        
        $sz=str_replace("\r\n", "<br>", $tomb[$i]); 

        $sor=explode(";" , $sz); 

        $sor[2]=str_replace("\\r\\n", "<br>", $sor[2]);
        $sor[2]=str_replace(":)", "üòä", $sor[2]);
        $sor[2]=str_replace(":D", "üòÅ", $sor[2]);
        $sor[2]=str_replace(":P", "üòã", $sor[2]);
        $sor[2]=str_replace(";$", "ü•¥", $sor[2]);
        $sor[2]=str_replace(":(", "üôÅ", $sor[2]);
        $sor[2]=str_replace("B-)", "üòé", $sor[2]);
        $sor[2]=str_replace(":'(", "üò≠", $sor[2]);
        $sor[2]=str_replace(":-*", "üòò", $sor[2]);
        $sor[2]=str_replace("<3", "‚ù§", $sor[2]);
        $sor[2]=str_replace( "<" , "&lt;" , $sor[2]);
        $sor[2]=str_replace( "'" , "\'" , $sor[2]);
           
        print "<div class='uzenet'> $sorszam."." <br> <span> $sor[0]</span> $sor[1] <hr> $sor[2] </div>";
        $sorszam--;
    }
       
?>

</body>
</html>
<pre>				


Kliens oldali API forr√°sk√≥dja, pl: random user:
<?php
		$fu   = fopen( "https://randomuser.me/api/" , "r" ) ;
		$json = fread( $fu , 8192 ) ;
		fclose( $fu ) ;

		$adat = json_decode( $json ) ;
?>

	<div style=' margin: 18px 0 18px 48px; font-family: Courier; color:#226;'>
		<pre><?php print_r($adat); ?></pre>
	</div>


